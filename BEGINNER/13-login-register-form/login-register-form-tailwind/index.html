<!doctype html>
<html lang="vi" class="dark">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Login/Register — Cấp 3 (Tailwind)</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-slate-900 text-slate-200">
  <main class="mx-auto max-w-5xl p-6">
    <h1 class="text-2xl font-bold mb-4">🔐 Login & Register — Cấp 3</h1>
    <section class="grid md:grid-cols-2 gap-4">
      <form id="loginForm" class="bg-slate-900/70 border border-slate-700 rounded-2xl p-5 grid gap-2" novalidate>
        <h2 class="text-lg font-semibold mb-1">Đăng nhập</h2>
        <label class="text-slate-400">Email</label>
        <input name="email" type="email" class="rounded-xl bg-slate-950 border border-slate-700 px-3 py-2" />
        <p id="loginEmailErr" class="text-xs text-red-300 min-h-4"></p>
        <label class="text-slate-400">Mật khẩu</label>
        <input name="password" type="password" class="rounded-xl bg-slate-950 border border-slate-700 px-3 py-2" />
        <p id="loginPassErr" class="text-xs text-red-300 min-h-4"></p>
        <button id="loginBtn" class="rounded-xl border border-slate-700 bg-slate-950 px-4 py-2">Đăng nhập</button>
        <p id="loginStatus" class="text-sm text-slate-400 min-h-5"></p>
      </form>

      <form id="registerForm" class="bg-slate-900/70 border border-slate-700 rounded-2xl p-5 grid gap-2" novalidate>
        <h2 class="text-lg font-semibold mb-1">Đăng ký</h2>
        <label class="text-slate-400">Họ tên</label>
        <input name="name" type="text" class="rounded-xl bg-slate-950 border border-slate-700 px-3 py-2" />
        <p id="regNameErr" class="text-xs text-red-300 min-h-4"></p>
        <label class="text-slate-400">Email</label>
        <input name="email" type="email" class="rounded-xl bg-slate-950 border border-slate-700 px-3 py-2" />
        <p id="regEmailErr" class="text-xs text-red-300 min-h-4"></p>
        <label class="text-slate-400">Mật khẩu</label>
        <input name="password" type="password" class="rounded-xl bg-slate-950 border border-slate-700 px-3 py-2" />
        <p id="regPassErr" class="text-xs text-red-300 min-h-4"></p>
        <button id="registerBtn" class="rounded-xl border border-slate-700 bg-slate-950 px-4 py-2">Tạo tài khoản</button>
        <p id="registerStatus" class="text-sm text-slate-400 min-h-5"></p>
      </form>
    </section>
  </main>
  <script>
const emailRe=/^[^\s@]+@[^\s@]+\.[^\s@]+$/; const db={users:[{name:'Demo',email:'demo@example.com',password:'123456'}]}
function $(s){return document.querySelector(s)}
function vLogin(e,p){let ok=true; loginEmailErr.textContent=''; loginPassErr.textContent=''; if(!emailRe.test(e)){loginEmailErr.textContent='Email không hợp lệ'; ok=false} if((p||'').length<6){loginPassErr.textContent='Mật khẩu >= 6 ký tự'; ok=false} return ok}
function vReg(n,e,p){let ok=true; regNameErr.textContent=''; regEmailErr.textContent=''; regPassErr.textContent=''; if((n||'').trim().length<2){regNameErr.textContent='Tên >= 2 ký tự'; ok=false} if(!emailRe.test(e)){regEmailErr.textContent='Email không hợp lệ'; ok=false} if((p||'').length<6){regPassErr.textContent='Mật khẩu >= 6 ký tự'; ok=false} return ok}
loginForm.addEventListener('submit', async ev=>{ev.preventDefault(); loginStatus.textContent=''; loginBtn.disabled=true; const e=ev.target.email.value.trim(), p=ev.target.password.value; if(!vLogin(e,p)){loginBtn.disabled=false; return} await new Promise(r=>setTimeout(r,500)); const u=db.users.find(u=>u.email===e&&u.password===p); loginStatus.textContent=u?'✅ Đăng nhập thành công (mock)':'❌ Sai email hoặc mật khẩu'; loginBtn.disabled=false})
registerForm.addEventListener('submit', async ev=>{ev.preventDefault(); registerStatus.textContent=''; registerBtn.disabled=true; const n=ev.target.name.value.trim(), e=ev.target.email.value.trim(), p=ev.target.password.value; if(!vReg(n,e,p)){registerBtn.disabled=false; return} await new Promise(r=>setTimeout(r,500)); if(db.users.some(u=>u.email===e)){registerStatus.textContent='❌ Email đã tồn tại'; registerBtn.disabled=false; return} db.users.push({name:n,email:e,password:p}); registerStatus.textContent='✅ Tạo tài khoản thành công (mock)'; ev.target.reset(); registerBtn.disabled=false})
  </script>
</body>
</html>
