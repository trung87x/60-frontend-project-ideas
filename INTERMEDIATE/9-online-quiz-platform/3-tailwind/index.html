<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Quiz ‚Äî Level 3 (Tailwind)</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="min-h-dvh bg-gradient-to-br from-slate-900 to-indigo-950 text-slate-100">
  <header class="py-6 text-center">
    <h1 class="text-2xl font-bold">üß† Quiz ‚Äî Tailwind</h1>
    <p class="text-slate-400">L·ªçc category + ti·∫øn tr√¨nh</p>
  </header>

  <main class="w-[min(900px,92vw)] mx-auto pb-10">
    <div class="sticky top-0 bg-slate-900/80 backdrop-blur rounded-xl border border-slate-800 p-3 flex gap-2 items-center">
      <select id="cat" class="px-3 py-2 rounded-lg bg-slate-800 border border-slate-700"></select>
      <button id="prev" class="px-3 py-2 rounded-lg bg-slate-800 border border-slate-700">‚Üê</button>
      <div id="progress" class="text-slate-300">‚Äî</div>
      <button id="next" class="px-3 py-2 rounded-lg bg-slate-800 border border-slate-700">‚Üí</button>
      <div class="ml-auto">‚è± <span id="timer">90</span>s</div>
      <span id="score" class="px-2 py-1 rounded bg-slate-800 border border-slate-700">0 ƒëi·ªÉm</span>
    </div>

    <article class="bg-slate-900/70 border border-slate-800 rounded-2xl p-4 mt-3">
      <div id="meta" class="text-slate-400 text-sm"></div>
      <h3 id="question" class="text-xl font-semibold mt-2"></h3>
      <div id="choices" class="grid gap-2 mt-3"></div>
      <div id="explain" class="text-slate-400 mt-2"></div>
    </article>
  </main>

  <script>
    const DATA = {
  "categories": [
    "HTML/CSS",
    "JavaScript",
    "React"
  ],
  "questions": [
    {
      "id": "q1",
      "category": "HTML/CSS",
      "text": "Th·∫ª n√†o d√πng ƒë·ªÉ hi·ªÉn th·ªã h√¨nh ·∫£nh?",
      "choices": [
        "<image>",
        "<img>",
        "<pic>",
        "<figure>"
      ],
      "answer": 1,
      "explain": "Th·∫ª chu·∫©n ƒë·ªÉ nh√∫ng ·∫£nh l√† <img> v√† c·∫ßn thu·ªôc t√≠nh src."
    },
    {
      "id": "q2",
      "category": "HTML/CSS",
      "text": "Thu·ªôc t√≠nh CSS n√†o d√πng ƒë·ªÉ cƒÉn ph·∫ßn t·ª≠ con theo tr·ª•c ch√≠nh trong Flexbox?",
      "choices": [
        "align-items",
        "justify-content",
        "place-content",
        "justify-items"
      ],
      "answer": 1,
      "explain": "Trong Flexbox, justify-content cƒÉn theo tr·ª•c ch√≠nh."
    },
    {
      "id": "q3",
      "category": "JavaScript",
      "text": "Gi√° tr·ªã c·ªßa typeof null l√† g√¨?",
      "choices": [
        "\"object\"",
        "\"null\"",
        "\"undefined\"",
        "\"number\""
      ],
      "answer": 0,
      "explain": "L·ªãch s·ª≠ JS khi·∫øn typeof null tr·∫£ v·ªÅ \"object\"."
    },
    {
      "id": "q4",
      "category": "JavaScript",
      "text": "Ph∆∞∆°ng th·ª©c n√†o bi·∫øn chu·ªói JSON th√†nh object?",
      "choices": [
        "JSON.parse()",
        "JSON.stringify()",
        "Object.from()",
        "evalJSON()"
      ],
      "answer": 0,
      "explain": "JSON.parse() chuy·ªÉn JSON string th√†nh object."
    },
    {
      "id": "q5",
      "category": "React",
      "text": "Hook n√†o d√πng ƒë·ªÉ qu·∫£n l√Ω state?",
      "choices": [
        "useMemo",
        "useState",
        "useRef",
        "useContext"
      ],
      "answer": 1,
      "explain": "useState tr·∫£ v·ªÅ state v√† h√†m c·∫≠p nh·∫≠t."
    },
    {
      "id": "q6",
      "category": "React",
      "text": "Khi n√†o n√™n d√πng key cho list trong React?",
      "choices": [
        "Khi render component b·∫•t k·ª≥",
        "Ch·ªâ khi c√≥ h∆°n 10 items",
        "Khi l·∫∑p qua danh s√°ch ƒë·ªông",
        "Kh√¥ng bao gi·ªù c·∫ßn"
      ],
      "answer": 2,
      "explain": "Key gi√∫p React x√°c ƒë·ªãnh ph·∫ßn t·ª≠ n√†o thay ƒë·ªïi khi render danh s√°ch."
    },
    {
      "id": "q7",
      "category": "JavaScript",
      "text": "K·∫øt qu·∫£ c·ªßa [1,2,3].map(x=>x*2) l√† g√¨?",
      "choices": [
        "[2,3,4]",
        "[2,4,6]",
        "[1,2,3,2,4,6]",
        "L·ªói"
      ],
      "answer": 1,
      "explain": "map √°p d·ª•ng h√†m l√™n t·ª´ng ph·∫ßn t·ª≠ v√† tr·∫£ m·∫£ng m·ªõi."
    },
    {
      "id": "q8",
      "category": "HTML/CSS",
      "text": "Thu·ªôc t√≠nh n√†o t·∫°o bo g√≥c?",
      "choices": [
        "border-collapse",
        "border-radius",
        "outline-radius",
        "corner-radius"
      ],
      "answer": 1,
      "explain": "border-radius t·∫°o g√≥c bo tr√≤n."
    },
    {
      "id": "q9",
      "category": "React",
      "text": "Props trong React l√†:",
      "choices": [
        "C√≥ th·ªÉ thay ƒë·ªïi b·ªüi component con",
        "B·∫•t bi·∫øn t·ª´ g√≥c nh√¨n component nh·∫≠n",
        "Lu√¥n l√† b·∫Øt bu·ªôc",
        "Ch·ªâ l√† chu·ªói"
      ],
      "answer": 1,
      "explain": "Props l√† d·ªØ li·ªáu b·∫•t bi·∫øn ƒë·ªëi v·ªõi component nh·∫≠n."
    },
    {
      "id": "q10",
      "category": "JavaScript",
      "text": "let v√† var kh√°c nhau ch·ªß y·∫øu ·ªü:",
      "choices": [
        "Ph·∫°m vi & hoisting",
        "T·ªëc ƒë·ªô th·ª±c thi",
        "Ch·ªâ c√≥ trong Node.js",
        "Kh√¥ng kh√°c nhau"
      ],
      "answer": 0,
      "explain": "let c√≥ block scope v√† kh√¥ng hoist theo c√°ch gi·ªëng var."
    }
  ]
};
    let idx = 0, score = 0, left = 90, answered = {}
    let pool = DATA.questions
    const cat = document.getElementById('cat')
    const qEl = document.getElementById('question')
    const cEl = document.getElementById('choices')
    const meta = document.getElementById('meta')
    const ex = document.getElementById('explain')
    const progress = document.getElementById('progress')
    const timer = document.getElementById('timer')
    const scoreEl = document.getElementById('score')

    cat.innerHTML = '<option value="">T·∫•t c·∫£</option>' + DATA.categories.map(c=>`<option value="${c}">${c}</option>`).join('')
    cat.onchange = ()=>{ filter() }

    function filter(){
      const v = cat.value
      pool = v ? DATA.questions.filter(q => q.category === v) : DATA.questions
      idx = 0; score = 0; answered = {}; render(); updateScore()
    }
    function updateScore(){ scoreEl.textContent = `${score} ƒëi·ªÉm` }

    function render(){
      const q = pool[idx] || { text:'H·∫øt c√¢u h·ªèi', choices:[], category:'' }
      progress.textContent = `C√¢u ${Math.min(idx+1,pool.length)}/${pool.length}`
      meta.textContent = 'Ch·ªß ƒë·ªÅ: ' + (q.category || '‚Äî')
      qEl.textContent = q.text || '‚Äî'
      ex.textContent = ''
      cEl.innerHTML = (q.choices||[]).map((ch,i)=> `<button class="text-left px-3 py-2 rounded-lg bg-slate-800 border border-slate-700 hover:bg-slate-700" data-i="${i}">${ch}</button>`).join('')
      cEl.querySelectorAll('button').forEach(btn => btn.onclick = ()=>{
        if(!q || answered[q.id] != null) return
        const pick = Number(btn.dataset.i)
        answered[q.id] = pick
        if(pick===q.answer){ score++; btn.classList.add('!border-green-400') } else { btn.classList.add('!border-red-400') }
        ex.textContent = 'Gi·∫£i th√≠ch: ' + q.explain
        updateScore()
      })
    }
    document.getElementById('prev').onclick = ()=>{ if(idx>0){ idx--; render() } }
    document.getElementById('next').onclick = ()=>{ if(idx<pool.length-1){ idx++; render() } }
    setInterval(()=>{ left--; timer.textContent = left; if(left<=0){ alert('H·∫øt gi·ªù!'); } }, 1000)
    filter()
  </script>
</body>
</html>
